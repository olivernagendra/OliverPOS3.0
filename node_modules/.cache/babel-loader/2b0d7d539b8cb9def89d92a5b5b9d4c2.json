{"ast":null,"code":"import _slicedToArray from\"D:/OliverPOS/OliverPOS3.0/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect}from\"react\";import{useDispatch,useSelector}from'react-redux';import{SaveClosingNote}from'./CashmanagementSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Closeregistertwo=function Closeregistertwo(props){var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),enterNotes=_useState2[0],setenterNotes=_useState2[1];var enterNote=function enterNote(e){var value=e.target.value;setenterNotes(value);};var CloseRegister=function CloseRegister(){var cashManagementID=localStorage.getItem('Cash_Management_ID');var saveCountParm={\"CashManagementId\":cashManagementID,\"Note\":enterNotes};// console.log(\"saveCountParm\", saveCountParm)\ndispatch(SaveClosingNote(saveCountParm));setTimeout(function(){localStorage.removeItem(\"CUSTOMER_TO_OrderId\");localStorage.removeItem('CASH_ROUNDING');localStorage.setItem(\"IsCashDrawerOpen\",\"false\");localStorage.removeItem('Cash_Management_ID');//Webview Android keyboard setting.................... \nlocalStorage.setItem('logoutclick',\"true\");// setAndroidKeyboard('logout');\n//--------------------------------------------------------\n//this.props.dispatch(userActions.logout())\n// redirectToURL()\n// history.push('/loginpin');\n},500);};var closeRegister=props.closeregisterPaymentDetail;var _closeRegister=null;if(closeRegister&&closeRegister)_closeRegister=closeRegister&&closeRegister;var _totalDiff=_closeRegister&&_closeRegister.Actual-_closeRegister.Expected;_closeRegister&&_closeRegister.PaymentSummery&&_closeRegister.PaymentSummery.map(function(item){// _totalDiff = _totalDiff + (item.DiffrenceAmount);\n_totalDiff=_totalDiff+(item.Actual-item.Expected);// console.log(\"_totalDiff\",_totalDiff)\n});var cashRegisterLog=closeRegister?closeRegister.CashRegisterlog:[];return/*#__PURE__*/_jsxs(_Fragment,{children:[\"  \",/*#__PURE__*/_jsx(\"p\",{className:\"style1\",children:\"Close Register\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"style2\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Logged-in user:\"}),\" Freddy Mercury\"]}),/*#__PURE__*/_jsx(\"label\",{children:\"Estimated Cash and Transaction Totals\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"closing-totals\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"style1\",children:\"Estimated Totals\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tablet-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Payment\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Expected\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Actual\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Difference\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"style2\",children:\"Cash in Till\"}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"style3\",children:\"Expected:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"style3\",children:_closeRegister&&_closeRegister.Expected})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"style3\",children:\"Actual:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"style3\",children:_closeRegister&&_closeRegister.Actual})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"style3\",children:\"Difference:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"style3\",children:[_closeRegister&&_closeRegister.Actual-_closeRegister.Expected,\" \"]})]})]}),_closeRegister&&_closeRegister.PaymentSummery&&_closeRegister.PaymentSummery.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"style2\",children:item.Name}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"style3\",children:\"Expected:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"style3\",children:item.Expected})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"style3\",children:\"Actual:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"style3\",children:item.Actual})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"style3\",children:\"Difference:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"style3\",children:item.Actual-item.Expected})]})]});}),/*#__PURE__*/_jsx(\"div\",{className:\"tablet-divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col total\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"style2\",children:\"Total Difference\"}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"p\",{className:\"style3\",children:_totalDiff})})]})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"closingNote\",children:\"Add Note\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"closingNote\",id:\"closingNote\",placeholder:\"Please add a note here\",defaultValue:\"\",onChange:function onChange(e){return enterNote(e);}}),/*#__PURE__*/_jsx(\"button\",{id:\"printReport\",children:\"Print Report\"}),/*#__PURE__*/_jsx(\"button\",{id:\"closeRegister\",onClick:function onClick(){return CloseRegister();},children:\"Close Register\"})]});};export default Closeregistertwo;","map":{"version":3,"names":["React","useState","useRef","useEffect","useDispatch","useSelector","SaveClosingNote","Closeregistertwo","props","dispatch","enterNotes","setenterNotes","enterNote","e","value","target","CloseRegister","cashManagementID","localStorage","getItem","saveCountParm","setTimeout","removeItem","setItem","closeRegister","closeregisterPaymentDetail","_closeRegister","_totalDiff","Actual","Expected","PaymentSummery","map","item","cashRegisterLog","CashRegisterlog","index","Name"],"sources":["D:/OliverPOS/OliverPOS3.0/src/components/cashmanagement/Closeregistertwo.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {  SaveClosingNote } from './CashmanagementSlice'\r\n\r\nconst Closeregistertwo = (props) => {\r\n    const dispatch = useDispatch();\r\n    const [enterNotes, setenterNotes] = useState('')\r\n\r\n  const  enterNote=(e)=> {\r\n        const { value } = e.target;\r\n        setenterNotes(value)\r\n    }\r\n\r\n    \r\n  const  CloseRegister=()=> {\r\n        var cashManagementID = localStorage.getItem('Cash_Management_ID');\r\n        var saveCountParm = { \"CashManagementId\": cashManagementID, \"Note\": enterNotes }\r\n        // console.log(\"saveCountParm\", saveCountParm)\r\n       dispatch(SaveClosingNote(saveCountParm))\r\n       \r\n        setTimeout(() => {\r\n            localStorage.removeItem(\"CUSTOMER_TO_OrderId\")\r\n            localStorage.removeItem('CASH_ROUNDING');\r\n            localStorage.setItem(\"IsCashDrawerOpen\", \"false\");\r\n            localStorage.removeItem('Cash_Management_ID');\r\n            //Webview Android keyboard setting.................... \r\n            localStorage.setItem('logoutclick', \"true\");\r\n           // setAndroidKeyboard('logout');\r\n            //--------------------------------------------------------\r\n\r\n            //this.props.dispatch(userActions.logout())\r\n           // redirectToURL()\r\n            // history.push('/loginpin');\r\n        }, 500);\r\n\r\n    }\r\n\r\n\r\n    var closeRegister = props.closeregisterPaymentDetail;\r\n    var _closeRegister = null;\r\n    if (closeRegister &&closeRegister)\r\n        _closeRegister = closeRegister &&closeRegister;\r\n    var _totalDiff = _closeRegister && _closeRegister.Actual - _closeRegister.Expected\r\n    _closeRegister && _closeRegister.PaymentSummery && _closeRegister.PaymentSummery.map(item => {\r\n        // _totalDiff = _totalDiff + (item.DiffrenceAmount);\r\n        _totalDiff = _totalDiff + (item.Actual - item.Expected);\r\n        // console.log(\"_totalDiff\",_totalDiff)\r\n    })\r\n    var cashRegisterLog =  closeRegister ? closeRegister.CashRegisterlog : [];\r\n\r\n\r\n    return (\r\n        <>  <p className=\"style1\">Close Register</p>\r\n            <p className=\"style2\">\r\n                <b>Logged-in user:</b> Freddy Mercury\r\n            </p>\r\n            <label>Estimated Cash and Transaction Totals</label>\r\n            <div className=\"closing-totals\">\r\n                <p className=\"style1\">Estimated Totals</p>\r\n                <div className=\"tablet-row\">\r\n                    <p>Payment</p>\r\n                    <p>Expected</p>\r\n                    <p>Actual</p>\r\n                    <p>Difference</p>\r\n                </div>\r\n                <div className=\"col\">\r\n                    <p className=\"style2\">Cash in Till</p>\r\n                    <div className=\"divider\" />\r\n                    <div className=\"row\">\r\n                        <p className=\"style3\">Expected:</p>\r\n                        <p className=\"style3\">{_closeRegister && _closeRegister.Expected}</p>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <p className=\"style3\">Actual:</p>\r\n                        <p className=\"style3\">{_closeRegister && _closeRegister.Actual}</p>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <p className=\"style3\">Difference:</p>\r\n                        <p className=\"style3\">{_closeRegister && (_closeRegister.Actual - _closeRegister.Expected)} </p>\r\n                    </div>\r\n                </div>\r\n                {_closeRegister && _closeRegister.PaymentSummery && _closeRegister.PaymentSummery.map((item, index) => {\r\n               return ( <div className=\"col\">\r\n                    <p className=\"style2\">{item.Name}</p>\r\n                    <div className=\"divider\" />\r\n                    <div className=\"row\">\r\n                        <p className=\"style3\">Expected:</p>\r\n                        <p className=\"style3\">{item.Expected}</p>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <p className=\"style3\">Actual:</p>\r\n                        <p className=\"style3\">{item.Actual}</p>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <p className=\"style3\">Difference:</p>\r\n                        <p className=\"style3\">{item.Actual - item.Expected}</p>\r\n                    </div>\r\n                </div>);\r\n                 })\r\n                }\r\n\r\n                <div className=\"tablet-divider\" />\r\n                <div className=\"col total\">\r\n                    <p className=\"style2\">Total Difference</p>\r\n                    <div className=\"divider\" />\r\n                    <div className=\"row\">\r\n                        <p className=\"style3\">{_totalDiff}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <label htmlFor=\"closingNote\">Add Note</label>\r\n            <textarea\r\n                name=\"closingNote\"\r\n                id=\"closingNote\"\r\n                placeholder=\"Please add a note here\"\r\n                defaultValue={\"\"}\r\n                onChange={(e) => enterNote(e)}\r\n            />\r\n            <button id=\"printReport\">Print Report</button>\r\n            <button id=\"closeRegister\" onClick={() => CloseRegister()} >Close Register</button></>\r\n    )\r\n}\r\n\r\nexport default Closeregistertwo"],"mappings":"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"},"metadata":{},"sourceType":"module"}