{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { openRegisterAPI } from './openRegisterAPI';\nimport STATUSES from '../../constants/apiStatus';\nconst initialState = {\n  \"status\": STATUSES.IDLE,\n  \"data\": \"\",\n  \"error\": '',\n  \"is_success\": false\n};\nexport const registerupdate = createAsyncThunk('openregisterupdate/openRegisterAPI', async (parameter, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n\n  try {\n    const response = await openRegisterAPI(parameter);\n    return response;\n  } catch (err) {\n    return rejectWithValue(err.response.data);\n  }\n});\nexport const openRegisterSlice = createSlice({\n  name: 'openregisterupdate',\n  initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(registerupdate.pending, state => {\n      state.status = STATUSES.LOADING;\n      state.data = \"\";\n      state.error = \"\";\n      state.is_success = false;\n    }).addCase(registerupdate.fulfilled, (state, action) => {\n      state.status = action.payload && action.payload.is_success == true ? STATUSES.IDLE : STATUSES.ERROR;\n      state.data = action.payload && action.payload.is_success == true ? action.payload : \"\";\n      state.error = action.payload && action.payload.is_success == false ? action.payload.exceptions[0] : action.payload ? \"Fail to fetch\" : \"\";\n      ;\n      state.is_success = action.payload && action.payload.is_success == true ? true : false;\n    }).addCase(registerupdate.rejected, (state, action) => {\n      state.status = STATUSES.IDLE;\n      state.data = \"\";\n      state.error = action.error;\n      state.is_success = false;\n    });\n  }\n});\nexport const {\n  loginPanding,\n  loginSuccess,\n  loginFail\n} = openRegisterSlice.actions; // // The function below is called a selector and allows us to select a value from\n// // the state. Selectors can also be defined inline where they're used instead of\n// // in the slice file. For example: `useSelector((state: RootState) => state.login.value)`\n// export const selectCount = (state) => state.login.value;\n// // We can also write thunks by hand, which may contain both sync and async logic.\n// // Here's an example of conditionally dispatching actions based on current state.\n// export const incrementIfOdd = (amount) => (dispatch, getState) => {\n//   const currentValue = selectCount(getState());\n//   if (currentValue % 2 === 1) {\n//     dispatch(incrementByAmount(amount));\n//   }\n// };\n\nexport default openRegisterSlice;","map":{"version":3,"names":["createAsyncThunk","createSlice","openRegisterAPI","STATUSES","initialState","IDLE","registerupdate","parameter","rejectWithValue","response","err","data","openRegisterSlice","name","reducers","extraReducers","builder","addCase","pending","state","status","LOADING","error","is_success","fulfilled","action","payload","ERROR","exceptions","rejected","loginPanding","loginSuccess","loginFail","actions"],"sources":["D:/OliverPOS/OliverPOS3.0/src/components/openregister/openRegisterSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport {openRegisterAPI } from './openRegisterAPI'\r\nimport STATUSES from '../../constants/apiStatus';\r\n\r\n\r\nconst initialState = {\r\n  \"status\": STATUSES.IDLE,\r\n  \"data\": \"\", \r\n  \"error\":'',\r\n  \"is_success\":false\r\n};\r\n\r\nexport const registerupdate = createAsyncThunk(\r\n    'openregisterupdate/openRegisterAPI',\r\n    async (parameter,{rejectWithValue}) => {  \r\n     \r\n     try {\r\n       const response = await openRegisterAPI(parameter);\r\n            return response;\r\n     } catch (err) {\r\n      return rejectWithValue(err.response.data)\r\n    }\r\n           \r\n    }\r\n  );\r\n\r\nexport const openRegisterSlice = createSlice({\r\n    name: 'openregisterupdate',\r\n    initialState,\r\n    // The `reducers` field lets us define reducers and generate associated actions\r\n    reducers: { \r\n    \r\n    },\r\n    extraReducers: (builder) => {    \r\n      builder \r\n        .addCase(registerupdate.pending, (state) => {\r\n          state.status = STATUSES.LOADING;\r\n          state.data=\"\";\r\n          state.error=\"\";\r\n          state.is_success=false;\r\n        })\r\n        .addCase(registerupdate.fulfilled, (state, action) => {       \r\n            state.status = action.payload && action.payload.is_success==true? STATUSES.IDLE: STATUSES.ERROR;\r\n            state.data=(action.payload && action.payload.is_success==true ?action.payload:\"\");  \r\n            state.error=action.payload && action.payload.is_success==false? action.payload.exceptions[0]: action.payload?\"Fail to fetch\":\"\";;\r\n            state.is_success=action.payload && action.payload.is_success==true? true: false;      \r\n        })\r\n        .addCase(registerupdate.rejected, (state,action) => {\r\n          state.status = STATUSES.IDLE;\r\n          state.data=\"\";\r\n          state.error = action.error;\r\n          state.is_success=false;\r\n        })\r\n    },\r\n  });\r\n  \r\n  \r\n  \r\n  \r\n   export const { loginPanding, loginSuccess, loginFail } = openRegisterSlice.actions;\r\n  \r\n  \r\n  // // The function below is called a selector and allows us to select a value from\r\n  // // the state. Selectors can also be defined inline where they're used instead of\r\n  // // in the slice file. For example: `useSelector((state: RootState) => state.login.value)`\r\n  // export const selectCount = (state) => state.login.value;\r\n  \r\n  // // We can also write thunks by hand, which may contain both sync and async logic.\r\n  // // Here's an example of conditionally dispatching actions based on current state.\r\n  // export const incrementIfOdd = (amount) => (dispatch, getState) => {\r\n  //   const currentValue = selectCount(getState());\r\n  //   if (currentValue % 2 === 1) {\r\n  //     dispatch(incrementByAmount(amount));\r\n  //   }\r\n  // };\r\n  \r\n  export default openRegisterSlice;"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,SAAQC,eAAR,QAA+B,mBAA/B;AACA,OAAOC,QAAP,MAAqB,2BAArB;AAGA,MAAMC,YAAY,GAAG;EACnB,UAAUD,QAAQ,CAACE,IADA;EAEnB,QAAQ,EAFW;EAGnB,SAAQ,EAHW;EAInB,cAAa;AAJM,CAArB;AAOA,OAAO,MAAMC,cAAc,GAAGN,gBAAgB,CAC1C,oCAD0C,EAE1C,OAAOO,SAAP,WAAuC;EAAA,IAAtB;IAACC;EAAD,CAAsB;;EAEtC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMP,eAAe,CAACK,SAAD,CAAtC;IACK,OAAOE,QAAP;EACN,CAHD,CAGE,OAAOC,GAAP,EAAY;IACb,OAAOF,eAAe,CAACE,GAAG,CAACD,QAAJ,CAAaE,IAAd,CAAtB;EACD;AAEA,CAXyC,CAAvC;AAcP,OAAO,MAAMC,iBAAiB,GAAGX,WAAW,CAAC;EACzCY,IAAI,EAAE,oBADmC;EAEzCT,YAFyC;EAGzC;EACAU,QAAQ,EAAE,EAJ+B;EAOzCC,aAAa,EAAGC,OAAD,IAAa;IAC1BA,OAAO,CACJC,OADH,CACWX,cAAc,CAACY,OAD1B,EACoCC,KAAD,IAAW;MAC1CA,KAAK,CAACC,MAAN,GAAejB,QAAQ,CAACkB,OAAxB;MACAF,KAAK,CAACR,IAAN,GAAW,EAAX;MACAQ,KAAK,CAACG,KAAN,GAAY,EAAZ;MACAH,KAAK,CAACI,UAAN,GAAiB,KAAjB;IACD,CANH,EAOGN,OAPH,CAOWX,cAAc,CAACkB,SAP1B,EAOqC,CAACL,KAAD,EAAQM,MAAR,KAAmB;MAClDN,KAAK,CAACC,MAAN,GAAeK,MAAM,CAACC,OAAP,IAAkBD,MAAM,CAACC,OAAP,CAAeH,UAAf,IAA2B,IAA7C,GAAmDpB,QAAQ,CAACE,IAA5D,GAAkEF,QAAQ,CAACwB,KAA1F;MACAR,KAAK,CAACR,IAAN,GAAYc,MAAM,CAACC,OAAP,IAAkBD,MAAM,CAACC,OAAP,CAAeH,UAAf,IAA2B,IAA7C,GAAmDE,MAAM,CAACC,OAA1D,GAAkE,EAA9E;MACAP,KAAK,CAACG,KAAN,GAAYG,MAAM,CAACC,OAAP,IAAkBD,MAAM,CAACC,OAAP,CAAeH,UAAf,IAA2B,KAA7C,GAAoDE,MAAM,CAACC,OAAP,CAAeE,UAAf,CAA0B,CAA1B,CAApD,GAAkFH,MAAM,CAACC,OAAP,GAAe,eAAf,GAA+B,EAA7H;MAAgI;MAChIP,KAAK,CAACI,UAAN,GAAiBE,MAAM,CAACC,OAAP,IAAkBD,MAAM,CAACC,OAAP,CAAeH,UAAf,IAA2B,IAA7C,GAAmD,IAAnD,GAAyD,KAA1E;IACH,CAZH,EAaGN,OAbH,CAaWX,cAAc,CAACuB,QAb1B,EAaoC,CAACV,KAAD,EAAOM,MAAP,KAAkB;MAClDN,KAAK,CAACC,MAAN,GAAejB,QAAQ,CAACE,IAAxB;MACAc,KAAK,CAACR,IAAN,GAAW,EAAX;MACAQ,KAAK,CAACG,KAAN,GAAcG,MAAM,CAACH,KAArB;MACAH,KAAK,CAACI,UAAN,GAAiB,KAAjB;IACD,CAlBH;EAmBD;AA3BwC,CAAD,CAArC;AAiCJ,OAAO,MAAM;EAAEO,YAAF;EAAgBC,YAAhB;EAA8BC;AAA9B,IAA4CpB,iBAAiB,CAACqB,OAApE,C,CAGR;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAerB,iBAAf"},"metadata":{},"sourceType":"module"}