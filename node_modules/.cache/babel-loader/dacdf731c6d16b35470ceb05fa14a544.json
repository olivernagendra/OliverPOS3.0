{"ast":null,"code":"import _regeneratorRuntime from\"D:/OliverPOS/OliverPOS3.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/OliverPOS/OliverPOS3.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import{loadProductAPI,productCountAPI}from'./loadProductAPI';import STATUSES from'../../constants/apiStatus';var initialState={\"status\":STATUSES.IDLE,\"data\":\"\",\"error\":'',\"is_success\":false};export var productLoader=createAsyncThunk('productLoader/productLoaderAPI',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(parameter,_ref){var rejectWithValue,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rejectWithValue=_ref.rejectWithValue;_context.prev=1;_context.next=4;return loadProductAPI(parameter);case 4:response=_context.sent;return _context.abrupt(\"return\",response);case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",rejectWithValue(_context.t0.response.data));case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());// export const fetchProduct = async (parameter) => dispatch => {\n//     dispatch(productLoading())\n//     const response = await loadProductAPI(parameter)\n//     dispatch(productReceived(response.data));\n// }\nexport var productLoaderSlice=createSlice({name:'productLoader',initialState:initialState,// The `reducers` field lets us define reducers and generate associated actions\nreducers:{//     productLoading(state, action) {\n//         // Use a \"state machine\" approach for loading state instead of booleans\n//         if (state.loading === 'idle') {\n//             state.loading = 'pending'\n//         }\n//     },\n//     productReceived(state, action) {\n//         if (state.loading === 'pending') {\n//             // state.loading = 'idle'\n//             state.status = STATUSES.LOADING;\n//             state.data = \"\";\n//             state.error = \"\";\n//             state.is_success = false;\n//         }\n//     }\n// },\nextraReducers:function extraReducers(builder){builder.addCase(productLoader.pending,function(state){state.status=STATUSES.LOADING;state.data=\"\";state.error=\"\";state.is_success=false;}).addCase(productLoader.fulfilled,function(state,action){state.status=action.payload&&action.payload.is_success==true?STATUSES.IDLE:STATUSES.ERROR;state.data=action.payload&&action.payload.is_success==true?action.payload:\"\";state.error=action.payload&&action.payload.is_success==false?action.payload.exceptions[0]:action.payload?\"Fail to fetch\":\"\";;state.is_success=action.payload&&action.payload.is_success==true?true:false;}).addCase(productLoader.rejected,function(state,action){state.status=STATUSES.IDLE;state.data=\"\";state.error=action.error;state.is_success=false;});}}});//export const { productLoaderPanding, productLoaderSuccess, productLoaderFail } = productLoaderSlice.actions;\nvar _productLoaderSlice$a=productLoaderSlice.actions,productLoading=_productLoaderSlice$a.productLoading,productReceived=_productLoaderSlice$a.productReceived;export default productLoaderSlice;","map":{"version":3,"names":["createAsyncThunk","createSlice","loadProductAPI","productCountAPI","STATUSES","initialState","IDLE","productLoader","parameter","rejectWithValue","response","data","productLoaderSlice","name","reducers","extraReducers","builder","addCase","pending","state","status","LOADING","error","is_success","fulfilled","action","payload","ERROR","exceptions","rejected","actions","productLoading","productReceived"],"sources":["D:/OliverPOS/OliverPOS3.0/src/components/loadProduct/loadProductSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { loadProductAPI, productCountAPI } from './loadProductAPI';\r\nimport STATUSES from '../../constants/apiStatus';\r\n\r\n\r\nconst initialState = {\r\n    \"status\": STATUSES.IDLE,\r\n    \"data\": \"\",\r\n    \"error\": '',\r\n    \"is_success\": false\r\n};\r\n\r\n\r\nexport const productLoader = createAsyncThunk(\r\n    'productLoader/productLoaderAPI',\r\n    async (parameter, { rejectWithValue }) => {\r\n\r\n        try {\r\n            const response = await loadProductAPI(parameter);\r\n            return response;\r\n        } catch (err) {\r\n\r\n            return rejectWithValue(err.response.data)\r\n        }\r\n\r\n    }\r\n);\r\n// export const fetchProduct = async (parameter) => dispatch => {\r\n//     dispatch(productLoading())\r\n//     const response = await loadProductAPI(parameter)\r\n//     dispatch(productReceived(response.data));\r\n\r\n// }\r\nexport const productLoaderSlice = createSlice({\r\n    name: 'productLoader',\r\n    initialState,\r\n    // The `reducers` field lets us define reducers and generate associated actions\r\n    reducers: {\r\n        //     productLoading(state, action) {\r\n        //         // Use a \"state machine\" approach for loading state instead of booleans\r\n        //         if (state.loading === 'idle') {\r\n        //             state.loading = 'pending'\r\n        //         }\r\n        //     },\r\n        //     productReceived(state, action) {\r\n        //         if (state.loading === 'pending') {\r\n        //             // state.loading = 'idle'\r\n        //             state.status = STATUSES.LOADING;\r\n        //             state.data = \"\";\r\n        //             state.error = \"\";\r\n        //             state.is_success = false;\r\n        //         }\r\n        //     }\r\n        // },\r\n\r\n        extraReducers: (builder) => {\r\n            builder\r\n                .addCase(productLoader.pending, (state) => {\r\n                    state.status = STATUSES.LOADING;\r\n                    state.data = \"\";\r\n                    state.error = \"\";\r\n                    state.is_success = false;\r\n                })\r\n                .addCase(productLoader.fulfilled, (state, action) => {\r\n                    state.status = action.payload && action.payload.is_success == true ? STATUSES.IDLE : STATUSES.ERROR;\r\n                    state.data = (action.payload && action.payload.is_success == true ? action.payload : \"\");\r\n                    state.error = action.payload && action.payload.is_success == false ? action.payload.exceptions[0] : action.payload ? \"Fail to fetch\" : \"\";;\r\n                    state.is_success = action.payload && action.payload.is_success == true ? true : false;\r\n                })\r\n                .addCase(productLoader.rejected, (state, action) => {\r\n                    state.status = STATUSES.IDLE;\r\n                    state.data = \"\";\r\n                    state.error = action.error;\r\n                    state.is_success = false;\r\n                })\r\n\r\n        },\r\n    }\r\n});\r\n\r\n//export const { productLoaderPanding, productLoaderSuccess, productLoaderFail } = productLoaderSlice.actions;\r\nconst { productLoading, productReceived } = productLoaderSlice.actions;\r\n\r\nexport default productLoaderSlice;\r\n"],"mappings":"8OAAA,OAASA,gBAAT,CAA2BC,WAA3B,KAA8C,kBAA9C,CACA,OAASC,cAAT,CAAyBC,eAAzB,KAAgD,kBAAhD,CACA,MAAOC,SAAP,KAAqB,2BAArB,CAGA,GAAMC,aAAY,CAAG,CACjB,SAAUD,QAAQ,CAACE,IADF,CAEjB,OAAQ,EAFS,CAGjB,QAAS,EAHQ,CAIjB,aAAc,KAJG,CAArB,CAQA,MAAO,IAAMC,cAAa,CAAGP,gBAAgB,CACzC,gCADyC,6FAEzC,iBAAOQ,SAAP,sJAAoBC,eAApB,MAAoBA,eAApB,uCAG+BP,eAAc,CAACM,SAAD,CAH7C,QAGcE,QAHd,+CAIeA,QAJf,0FAOeD,eAAe,CAAC,YAAIC,QAAJ,CAAaC,IAAd,CAP9B,sEAFyC,oEAAtC,CAcP;AACA;AACA;AACA;AAEA;AACA,MAAO,IAAMC,mBAAkB,CAAGX,WAAW,CAAC,CAC1CY,IAAI,CAAE,eADoC,CAE1CR,YAAY,CAAZA,YAF0C,CAG1C;AACAS,QAAQ,CAAE,CACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAC,aAAa,CAAE,uBAACC,OAAD,CAAa,CACxBA,OAAO,CACFC,OADL,CACaV,aAAa,CAACW,OAD3B,CACoC,SAACC,KAAD,CAAW,CACvCA,KAAK,CAACC,MAAN,CAAehB,QAAQ,CAACiB,OAAxB,CACAF,KAAK,CAACR,IAAN,CAAa,EAAb,CACAQ,KAAK,CAACG,KAAN,CAAc,EAAd,CACAH,KAAK,CAACI,UAAN,CAAmB,KAAnB,CACH,CANL,EAOKN,OAPL,CAOaV,aAAa,CAACiB,SAP3B,CAOsC,SAACL,KAAD,CAAQM,MAAR,CAAmB,CACjDN,KAAK,CAACC,MAAN,CAAeK,MAAM,CAACC,OAAP,EAAkBD,MAAM,CAACC,OAAP,CAAeH,UAAf,EAA6B,IAA/C,CAAsDnB,QAAQ,CAACE,IAA/D,CAAsEF,QAAQ,CAACuB,KAA9F,CACAR,KAAK,CAACR,IAAN,CAAcc,MAAM,CAACC,OAAP,EAAkBD,MAAM,CAACC,OAAP,CAAeH,UAAf,EAA6B,IAA/C,CAAsDE,MAAM,CAACC,OAA7D,CAAuE,EAArF,CACAP,KAAK,CAACG,KAAN,CAAcG,MAAM,CAACC,OAAP,EAAkBD,MAAM,CAACC,OAAP,CAAeH,UAAf,EAA6B,KAA/C,CAAuDE,MAAM,CAACC,OAAP,CAAeE,UAAf,CAA0B,CAA1B,CAAvD,CAAsFH,MAAM,CAACC,OAAP,CAAiB,eAAjB,CAAmC,EAAvI,CAA0I,CAC1IP,KAAK,CAACI,UAAN,CAAmBE,MAAM,CAACC,OAAP,EAAkBD,MAAM,CAACC,OAAP,CAAeH,UAAf,EAA6B,IAA/C,CAAsD,IAAtD,CAA6D,KAAhF,CACH,CAZL,EAaKN,OAbL,CAaaV,aAAa,CAACsB,QAb3B,CAaqC,SAACV,KAAD,CAAQM,MAAR,CAAmB,CAChDN,KAAK,CAACC,MAAN,CAAehB,QAAQ,CAACE,IAAxB,CACAa,KAAK,CAACR,IAAN,CAAa,EAAb,CACAQ,KAAK,CAACG,KAAN,CAAcG,MAAM,CAACH,KAArB,CACAH,KAAK,CAACI,UAAN,CAAmB,KAAnB,CACH,CAlBL,EAoBH,CAvCK,CAJgC,CAAD,CAAtC,CA+CP;AACA,0BAA4CX,kBAAkB,CAACkB,OAA/D,CAAQC,cAAR,uBAAQA,cAAR,CAAwBC,eAAxB,uBAAwBA,eAAxB,CAEA,cAAepB,mBAAf"},"metadata":{},"sourceType":"module"}