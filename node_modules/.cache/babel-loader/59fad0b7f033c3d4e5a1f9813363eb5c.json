{"ast":null,"code":"var _jsxFileName = \"D:\\\\OliverPOS\\\\OliverPOS3.0\\\\src\\\\components\\\\loadProduct\\\\ProductLoader.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { deleteDB, openDB } from 'idb';\nimport { get_UDid } from '../common/localSettings';\nimport Config from '../../Config';\nimport { receiptSetting } from '../serverSetting/receiptSettingSlice';\nimport ActiveUser from '../../settings/ActiveUser';\nimport { taxSetting } from '../serverSetting/taxSettingSlice';\nimport STATUSES from '../../constants/apiStatus';\nimport { productCount } from './productCountSlice';\nimport { productLoader } from './loadProductSlice';\nimport { useNavigate } from 'react-router-dom'; // import { useIndexedDB } from 'react-indexed-db';\n//import LoaderOnboarding from '../onboarding/components/LoaderOnboarding'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductLoader = () => {\n  _s();\n\n  // const { add, update, getByID, getAll, deleteRecord } = useIndexedDB(\"products\");\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [loadingProducts, setLoadingProducts] = useState(0);\n  const [loadPerc, setLoadPerc] = useState(0);\n  const [productLoading, setProductLoading] = useState(false); //........Test--------------------------\n\n  const saveDataIntoIndexDB = ProductArray => {\n    ProductArray && ProductArray.length > 0 && ProductArray.map(item => {// add(item).then(\n      //     (key) => {\n      //         // console.log(\"ID Generated: \", key);\n      //         //   let newState = Object.assign({}, state);\n      //         //   newState.id = key;\n      //         //   setState(newState);\n      //         //   history.goBack();\n      //     },\n      //     (error) => {\n      //         console.log(error);\n      //     }\n      // )\n    }); // var _state = { \"WPID\": 101, \"name\": \"nagendra\", \"age\": 32 }\n  }; //........................\n\n\n  const displayProductLoadStatus = (total, Synched) => {\n    if (total != 0) {\n      var _perc = (Synched * 100 / total).toFixed(0);\n\n      setLoadingProducts(\"Synched \" + Synched + \" Products, Out of \" + total + \"\");\n      setLoadPerc(_perc);\n    }\n  };\n\n  const getProductList = (pn, pz, totalSync) => {\n    var totalRecord = localStorage.getItem(\"productcount\") ? localStorage.getItem(\"productcount\") : 0;\n    displayProductLoadStatus(totalRecord, totalSync); //if (!localStorage.getItem('user') || !sessionStorage.getItem(\"issuccess\")) {\n    //redirectToURL()\n    // navigate('/loginpin');\n    //}\n\n    var RedirectUrl = ActiveUser.key.isSelfcheckout && ActiveUser.key.isSelfcheckout == true ? '/selfcheckout' : '/checkout';\n    var udid = get_UDid(localStorage.getItem(\"UDID\"));\n    var WarehouseId = localStorage.getItem(\"WarehouseId\") ? parseInt(localStorage.getItem(\"WarehouseId\")) : 0;\n    var pageNumber = pn;\n    var pageSize = Config.key.FETCH_PRODUCTS_PAGESIZE;\n    var PageSize = Config.key.FETCH_PRODUCTS_PAGESIZE; //var ProductArray = pl;       \n\n    var totalProductSync = parseInt(totalSync);\n    const requestOptions = {\n      method: 'GET',\n      headers: {\n        \"access-control-allow-origin\": \"*\",\n        \"access-control-allow-credentials\": \"true\",\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Basic ' + btoa(sessionStorage.getItem(\"AUTH_KEY\"))\n      },\n      mode: 'cors'\n    };\n    var isDemoUser = localStorage.getItem('demoUser') == 'true' && localStorage.getItem('DemoGuid');\n\n    if (isDemoUser == true) {\n      requestOptions.headers['demoauth'] = localStorage.getItem('DemoGuid') && localStorage.getItem('DemoGuid');\n    }\n\n    if (totalRecord == 0 && isDemoUser == false) {\n      // navigate( RedirectUrl) ;  \n      console.log(\"test4\"); // UpdateIndexDB(udid, ProductArray, RedirectUrl);\n    }\n\n    fetch(`${Config.key.OP_API_URL}/v1/Product/Records?pageNumber=${pageNumber}&pageSize=${PageSize}&WarehouseId=${WarehouseId}`, requestOptions).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error(response.statusText); // throw an error if there's something wrong with the response\n    }).then(function handleData(data) {\n      var reloadCount = localStorage.getItem(\"ReloadCount\"); //ProductArray = [...new Set([...ProductArray, ...data.content.Records])];\n\n      saveDataIntoIndexDB(data.content.Records); //check dataExist into indexdb-------------------------\n\n      var isExist = false;\n      console.log(\"--------------Total Products count--------\" + totalRecord);\n      totalProductSync += parseInt(data.content.Records.length);\n      displayProductLoadStatus(totalRecord, totalProductSync);\n\n      if (isDemoUser == false && totalRecord > totalProductSync && (totalRecord != totalProductSync || pageNumber <= totalRecord / PageSize * 1.0)) {\n        console.log(\"--------------Product list request time--------\" + new Date()); // self.UpdateIndexDB(udid,ProductArray);\n\n        pageNumber++; //console.log(\"ProductArray1\",ProductArray.length)     \n        // console.log(\"test5\")\n\n        getProductList(pageNumber, PageSize, parseInt(totalProductSync)); //console.log(\"test6\")\n      } else {\n        console.log(\"--------------all records are done-----------\"); //console.log(\"ProductArray2\",ProductArray.length)                        \n        // UpdateIndexDB(udid, ProductArray, RedirectUrl);\n\n        setTimeout(() => {\n          navigate('/dashboard');\n        }, 100);\n      }\n    }).catch(function handleError(error) {\n      console.error('Console.save: No data ' + error + \" \" + JSON.stringify(error));\n      var reloadCount = localStorage.getItem(\"ReloadCount\"); // handle errors here\n\n      if (reloadCount < 3) {\n        localStorage.setItem(\"ReloadCount\", parseInt(reloadCount) + 1);\n        setTimeout(function () {\n          navigate('/'); //Reload to get product\n          // navigate( '/home')\n        }, 1000); // navigate('/home')\n      }\n    });\n  }; //Getting the receipt and tax setting--------------------        \n\n\n  const [respReceiptSetting, respTaxSetting, resProlductCount] = useSelector(state => [state.receiptsetting, state.taxsetting, state.productcount]);\n\n  if (respReceiptSetting && respReceiptSetting.status == STATUSES.IDLE && respReceiptSetting.is_success) {\n    localStorage.setItem('orderreciept', JSON.stringify(respReceiptSetting.data.content));\n  }\n\n  if (respTaxSetting && respTaxSetting.status == STATUSES.IDLE && respTaxSetting.is_success) {\n    localStorage.setItem('TAX_SETTING', JSON.stringify(respTaxSetting.data.content));\n  }\n\n  if (resProlductCount && resProlductCount.status == STATUSES.IDLE && resProlductCount.is_success) {\n    localStorage.setItem('productcount', JSON.stringify(resProlductCount.data.content.count));\n  }\n\n  let useCancelled = false;\n  useEffect(() => {\n    if (useCancelled == false) {\n      fetchData();\n    }\n\n    return () => {\n      useCancelled = true;\n    };\n  }, []);\n  let useApiCancelled = false;\n  useEffect(() => {\n    if (useApiCancelled == false) {\n      getProductList(1, Config.key.FETCH_PRODUCTS_PAGESIZE, 0);\n    }\n\n    return () => {\n      useApiCancelled = true;\n    };\n  }, []);\n\n  const fetchData = async () => {\n    //calling multiple api\n    var udid = get_UDid(localStorage.getItem(\"UDID\"));\n    dispatch(productCount(udid));\n    dispatch(receiptSetting());\n    dispatch(taxSetting());\n  }; //  this.getProductList(1, Config.key.FETCH_PRODUCTS_PAGESIZE, [], pcount);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Product Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\" \", loadingProducts, \" ( \", loadPerc, \")% \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }, this), \"; ;\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 12\n  }, this);\n};\n\n_s(ProductLoader, \"XsQKvQtw4RMCEkVtnyxCtyYUneo=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n\n_c = ProductLoader;\nexport default ProductLoader;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductLoader\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","deleteDB","openDB","get_UDid","Config","receiptSetting","ActiveUser","taxSetting","STATUSES","productCount","productLoader","useNavigate","ProductLoader","navigate","dispatch","loadingProducts","setLoadingProducts","loadPerc","setLoadPerc","productLoading","setProductLoading","saveDataIntoIndexDB","ProductArray","length","map","item","displayProductLoadStatus","total","Synched","_perc","toFixed","getProductList","pn","pz","totalSync","totalRecord","localStorage","getItem","RedirectUrl","key","isSelfcheckout","udid","WarehouseId","parseInt","pageNumber","pageSize","FETCH_PRODUCTS_PAGESIZE","PageSize","totalProductSync","requestOptions","method","headers","btoa","sessionStorage","mode","isDemoUser","console","log","fetch","OP_API_URL","then","response","ok","json","Error","statusText","handleData","data","reloadCount","content","Records","isExist","Date","setTimeout","catch","handleError","error","JSON","stringify","setItem","respReceiptSetting","respTaxSetting","resProlductCount","state","receiptsetting","taxsetting","productcount","status","IDLE","is_success","count","useCancelled","fetchData","useApiCancelled"],"sources":["D:/OliverPOS/OliverPOS3.0/src/components/loadProduct/ProductLoader.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteDB, openDB } from 'idb';\r\n\r\nimport { get_UDid } from '../common/localSettings'\r\nimport Config from '../../Config';\r\nimport { receiptSetting } from '../serverSetting/receiptSettingSlice';\r\nimport ActiveUser from '../../settings/ActiveUser';\r\nimport { taxSetting } from '../serverSetting/taxSettingSlice';\r\nimport STATUSES from '../../constants/apiStatus';\r\nimport { productCount } from './productCountSlice';\r\nimport { productLoader } from './loadProductSlice';\r\nimport { useNavigate } from 'react-router-dom';\r\n// import { useIndexedDB } from 'react-indexed-db';\r\n\r\n//import LoaderOnboarding from '../onboarding/components/LoaderOnboarding'\r\nconst ProductLoader = () => {\r\n    // const { add, update, getByID, getAll, deleteRecord } = useIndexedDB(\"products\");\r\n\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch()\r\n    const [loadingProducts, setLoadingProducts] = useState(0)\r\n    const [loadPerc, setLoadPerc] = useState(0)\r\n    const [productLoading, setProductLoading] = useState(false)\r\n\r\n    //........Test--------------------------\r\n    const saveDataIntoIndexDB = (ProductArray) => {\r\n        ProductArray && ProductArray.length > 0 && ProductArray.map((item) => {\r\n            // add(item).then(\r\n            //     (key) => {\r\n            //         // console.log(\"ID Generated: \", key);\r\n            //         //   let newState = Object.assign({}, state);\r\n            //         //   newState.id = key;\r\n            //         //   setState(newState);\r\n            //         //   history.goBack();\r\n            //     },\r\n            //     (error) => {\r\n            //         console.log(error);\r\n            //     }\r\n            // )\r\n        })\r\n\r\n        // var _state = { \"WPID\": 101, \"name\": \"nagendra\", \"age\": 32 }\r\n\r\n    }\r\n    //........................\r\n    const displayProductLoadStatus = (total, Synched) => {\r\n        if (total != 0) {\r\n            var _perc = ((Synched * 100) / total).toFixed(0);\r\n            setLoadingProducts(\"Synched \" + Synched + \" Products, Out of \" + total + \"\");\r\n            setLoadPerc(_perc);\r\n        }\r\n    }\r\n    const getProductList = (pn, pz, totalSync) => {\r\n        var totalRecord = localStorage.getItem(\"productcount\") ? localStorage.getItem(\"productcount\") : 0;\r\n        displayProductLoadStatus(totalRecord, totalSync)\r\n\r\n\r\n        //if (!localStorage.getItem('user') || !sessionStorage.getItem(\"issuccess\")) {\r\n        //redirectToURL()\r\n        // navigate('/loginpin');\r\n        //}\r\n        var RedirectUrl = ActiveUser.key.isSelfcheckout && ActiveUser.key.isSelfcheckout == true ? '/selfcheckout' : '/checkout';\r\n\r\n        var udid = get_UDid(localStorage.getItem(\"UDID\"));\r\n\r\n        var WarehouseId = localStorage.getItem(\"WarehouseId\") ? parseInt(localStorage.getItem(\"WarehouseId\")) : 0;\r\n\r\n        var pageNumber = pn;\r\n        var pageSize = Config.key.FETCH_PRODUCTS_PAGESIZE;\r\n        var PageSize = Config.key.FETCH_PRODUCTS_PAGESIZE;\r\n\r\n        //var ProductArray = pl;       \r\n        var totalProductSync = parseInt(totalSync);\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: {\r\n                \"access-control-allow-origin\": \"*\",\r\n                \"access-control-allow-credentials\": \"true\",\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Basic ' + btoa(sessionStorage.getItem(\"AUTH_KEY\")),\r\n            }\r\n            , mode: 'cors'\r\n        };\r\n        var isDemoUser = localStorage.getItem('demoUser') == 'true' && localStorage.getItem('DemoGuid');\r\n        if (isDemoUser == true) {\r\n            requestOptions.headers['demoauth'] = localStorage.getItem('DemoGuid') && localStorage.getItem('DemoGuid')\r\n        }\r\n        if (totalRecord == 0 && isDemoUser == false) {\r\n            // navigate( RedirectUrl) ;  \r\n            console.log(\"test4\")\r\n            // UpdateIndexDB(udid, ProductArray, RedirectUrl);\r\n        }\r\n\r\n        fetch(`${Config.key.OP_API_URL}/v1/Product/Records?pageNumber=${pageNumber}&pageSize=${PageSize}&WarehouseId=${WarehouseId}`, requestOptions)\r\n            .then(response => {\r\n                if (response.ok) { return response.json(); }\r\n                throw new Error(response.statusText)  // throw an error if there's something wrong with the response\r\n            })\r\n            .then(function handleData(data) {\r\n                var reloadCount = localStorage.getItem(\"ReloadCount\");\r\n                //ProductArray = [...new Set([...ProductArray, ...data.content.Records])];\r\n                saveDataIntoIndexDB(data.content.Records)\r\n                //check dataExist into indexdb-------------------------\r\n                var isExist = false;\r\n\r\n                console.log(\"--------------Total Products count--------\" + totalRecord);\r\n\r\n                totalProductSync += parseInt(data.content.Records.length);\r\n\r\n                displayProductLoadStatus(totalRecord, totalProductSync)\r\n\r\n                if (isDemoUser == false && (totalRecord > totalProductSync) && ((totalRecord != totalProductSync) || pageNumber <= (totalRecord / PageSize * 1.0))) {\r\n                    console.log(\"--------------Product list request time--------\" + new Date());\r\n                    // self.UpdateIndexDB(udid,ProductArray);\r\n                    pageNumber++;\r\n                    //console.log(\"ProductArray1\",ProductArray.length)     \r\n                    // console.log(\"test5\")\r\n                    getProductList(pageNumber, PageSize, parseInt(totalProductSync));\r\n                    //console.log(\"test6\")\r\n                }\r\n                else {\r\n                    console.log(\"--------------all records are done-----------\");\r\n                    //console.log(\"ProductArray2\",ProductArray.length)                        \r\n\r\n                    // UpdateIndexDB(udid, ProductArray, RedirectUrl);\r\n                    setTimeout(() => {\r\n                        navigate('/dashboard');\r\n                    }, 100);\r\n\r\n                }\r\n            })\r\n            .catch(function handleError(error) {\r\n                console.error('Console.save: No data ' + error + \" \" + JSON.stringify(error));\r\n                var reloadCount = localStorage.getItem(\"ReloadCount\");\r\n                // handle errors here\r\n                if (reloadCount < 3) {\r\n                    localStorage.setItem(\"ReloadCount\", (parseInt(reloadCount) + 1));\r\n                    setTimeout(function () {\r\n                        navigate('/'); //Reload to get product\r\n                        // navigate( '/home')\r\n                    }, 1000)\r\n                    // navigate('/home')\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    //Getting the receipt and tax setting--------------------        \r\n\r\n    const [respReceiptSetting, respTaxSetting, resProlductCount] = useSelector((state) => [state.receiptsetting, state.taxsetting, state.productcount])\r\n\r\n    if (respReceiptSetting && respReceiptSetting.status == STATUSES.IDLE && respReceiptSetting.is_success) {\r\n        localStorage.setItem('orderreciept', JSON.stringify(respReceiptSetting.data.content))\r\n    }\r\n    if (respTaxSetting && respTaxSetting.status == STATUSES.IDLE && respTaxSetting.is_success) {\r\n        localStorage.setItem('TAX_SETTING', JSON.stringify(respTaxSetting.data.content))\r\n    }\r\n    if (resProlductCount && resProlductCount.status == STATUSES.IDLE && resProlductCount.is_success) {\r\n        localStorage.setItem('productcount', JSON.stringify(resProlductCount.data.content.count))\r\n\r\n    }\r\n\r\n    let useCancelled = false;\r\n    useEffect(() => {\r\n        if (useCancelled == false) {\r\n            fetchData()\r\n        }\r\n        return () => {\r\n            useCancelled = true;\r\n        }\r\n    }, []);\r\n\r\n    let useApiCancelled = false;\r\n    useEffect(() => {\r\n        if (useApiCancelled == false) {\r\n            getProductList(1, Config.key.FETCH_PRODUCTS_PAGESIZE, 0);\r\n        }\r\n        return () => {\r\n            useApiCancelled = true;\r\n        }\r\n    }, [])\r\n\r\n    const fetchData = async () => { //calling multiple api\r\n\r\n        var udid = get_UDid(localStorage.getItem(\"UDID\"));\r\n        dispatch(productCount(udid));\r\n        dispatch(receiptSetting());\r\n        dispatch(taxSetting());\r\n\r\n    }\r\n\r\n\r\n\r\n    //  this.getProductList(1, Config.key.FETCH_PRODUCTS_PAGESIZE, [], pcount);\r\n    return <div>\r\n        <h1>Product Loading...</h1>\r\n        <h2> {loadingProducts} ( {loadPerc})% </h2>;\r\n        ;\r\n    </div>\r\n}\r\n\r\nexport default ProductLoader"],"mappings":"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"},"metadata":{},"sourceType":"module"}