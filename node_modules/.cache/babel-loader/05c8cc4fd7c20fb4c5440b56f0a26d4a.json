{"ast":null,"code":"var _jsxFileName = \"D:\\\\OliverPOS\\\\OliverPOS3.0\\\\src\\\\components\\\\openregister\\\\OpenRegister.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { get_UDid } from \"../common/localSettings\";\nimport STATUSES from \"../../constants/apiStatus\";\nimport moment from 'moment';\nimport { createPin, validatePin } from \"../pinPage/pinSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport { chunkArray, get_locName, get_regName } from '../common/localSettings';\nimport imgBackSpace from '../../images/svg/Backspace-BaseBlue.svg';\nimport { registerupdate } from './openRegisterSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Openregister = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [totalSize, setTotalSize] = useState(0);\n  const [txtValue, setTxtValue] = useState(\"\");\n  const [isloading, setIsloading] = useState(false);\n  const [amount, setAmount] = useState(\"\");\n  const [notes, setNotes] = useState(\"\");\n  const [isAmountEntered, setIsAmountEntered] = useState(false); //true and false  toggle in state\n\n  const [isOpened, setIsOpened] = useState(false);\n  const [isOpened2, setIsOpened2] = useState(false);\n  const {\n    status,\n    data,\n    error,\n    is_success\n  } = useSelector(state => state.pin);\n  var hasPin = localStorage.getItem('hasPin');\n\n  if (status === STATUSES.error) {\n    console.log(error);\n  }\n\n  if (status === STATUSES.IDLE && is_success) {\n    localStorage.setItem('user', JSON.stringify(data.content));\n\n    if (typeof Storage !== \"undefined\") {\n      localStorage.setItem(\"check_subscription_status_datetime\", new Date());\n    }\n\n    if (localStorage.getItem(\"PRODUCT_REFRESH_DATE\") == null) {\n      localStorage.setItem(\"PRODUCT_REFRESH_DATE\", moment.utc(new Date()).format('YYYY-MM-DD HH:mm:ss'));\n    }\n\n    var _lang = localStorage.getItem(\"LANG\");\n\n    var user = JSON.parse(localStorage.getItem(\"user\"));\n    var lang = user && user.language ? user.language : 'en';\n    localStorage.setItem(\"LANG\", lang); //Reloading the component if new language set for the login user.                  \n\n    if (_lang && _lang !== lang) {// window.location = '/';\n    } // openRegister()\n    // navigate('/home')\n\n  }\n\n  const openRegister = async () => {\n    if (amount && amount != '') {\n      setIsAmountEntered(false); //this.setState({ enteredAmount: 0.00, enterNote: '' });\n\n      var d = new Date();\n      var dateStringWithTime = moment(d).format('YYYY-MM-DD HH:mm:ss Z');\n      var getLocalTimeZoneOffsetValue = d.getTimezoneOffset();\n      var localTimeZoneType = moment.tz.guess(true);\n      var user = JSON.parse(localStorage.getItem(\"user\"));\n      var registerName = localStorage.getItem(\"registerName\");\n      var last_login_register_id = localStorage.getItem(\"register\");\n      var LocationName = localStorage.getItem(\"LocationName\");\n      var last_login_Location_id = localStorage.getItem(\"Location\");\n      var open_register_param = {\n        \"RegisterId\": last_login_register_id,\n        \"RegisterName\": registerName,\n        \"LocationId\": last_login_Location_id,\n        \"LocationName\": LocationName,\n        \"LocalDateTime\": dateStringWithTime,\n        \"LocalTimeZoneType\": localTimeZoneType,\n        \"SalePersonId\": user && user.user_id ? user.user_id : '',\n        \"SalePersonName\": user && user.display_name ? user.display_name : '',\n        \"SalePersonEmail\": user && user.user_email ? user.user_email : '',\n        \"ActualOpeningBalance\": amount,\n        \"OpeningNote\": notes,\n        \"LocalTimeZoneOffsetValue\": getLocalTimeZoneOffsetValue\n      };\n      dispatch(registerupdate(open_register_param)); // $(\".form-control\").val('');\n    } else {\n      setIsAmountEntered(true);\n    }\n  };\n\n  const pinNumberList = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \" \", \"0\", \"c\"];\n  const trshPin = ['txt1', 'txt2', 'txt3', 'txt4'];\n\n  const NumInput = props => chunkArray(props.numbers, 3).map((num, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pin-button-row\",\n    children: num.map((nm, i) => {\n      if (nm === \" \") {\n        return \"\";\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        id: props.id,\n        onClick: () => {\n          addToScreen(nm);\n        },\n        className: nm === 'c' ? \"backspace\" : \"\",\n        children: nm === 'c' ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imgBackSpace\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 43\n        }, this) : nm\n      }, \"input\" + i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }, this);\n    })\n  }, index, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 13\n  }, this)); // display dot pin\n\n\n  const TrashPin = () => trshPin.map((pinId, ind) => {\n    // console.log(\"totalSize\",totalSize)\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pin-entry \" + (totalSize >= ind + 1 && \"entered\")\n    }, ind, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }, this);\n  }); // show entered number for create pin\n\n\n  const ShowCreatePin = props => trshPin.map((pinId, ind) => {\n    return /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      id: pinId + 1,\n      onChange: e => handle(e)\n    }, ind, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }, this) //   className={props.className}\n    ;\n  });\n\n  const resetScreen = () => {\n    var str = txtValue;\n\n    if (totalSize > 0) {\n      setTotalSize(totalSize - 1);\n      setTxtValue(str.substring(0, str.length - 1));\n    } else {\n      setTotalSize(0);\n      setTxtValue(\"\");\n    }\n\n    fillPass();\n  };\n\n  const addToScreen = inputNo => {\n    if (inputNo === \" \") {\n      return;\n    } //var lenght_is = e.length - 1\n    //var newString = inputNo;//e[lenght_is];\n\n\n    if (inputNo === \"c\") {\n      if (totalSize > 0) {\n        resetScreen();\n      } else {\n        setTotalSize(0);\n        setTxtValue('');\n      }\n\n      return;\n    }\n\n    if (totalSize < 4) {\n      var value = txtValue + inputNo;\n      var size = totalSize + 1;\n      setTxtValue(value);\n      setTotalSize(size);\n      console.log(value, size);\n      setTimeout(() => {\n        fillPass(value);\n      }, 100);\n    } // $('#whichkey').focus()\n\n\n    var _envType = localStorage.getItem('env_type');\n\n    if (_envType && _envType !== \"\") {// $('#whichkey').attr('readonly', true);\n    } else {//$('#whichkey').focus();\n    }\n  };\n\n  const fillPass = enteredPin => {\n    if (enteredPin.length >= 4) {\n      //const { dispatch } = this.props;\n      if (isloading === false) {\n        setIsloading(true);\n        localStorage.removeItem('logoutclick'); //For webview            \n\n        setTimeout(function () {\n          //Need delay for reaset text\n          var userID = \"\";\n\n          if (localStorage.getItem(\"userId\")) {\n            userID = localStorage.getItem(\"userId\");\n          } else {\n            userID = localStorage.getItem('clientDetail') ? JSON.parse(localStorage.getItem('clientDetail')).user_id : \"\";\n            localStorage.setItem(\"userId\", userID);\n          }\n\n          if (enteredPin !== null && enteredPin !== '' && userID && userID !== '') {\n            console.log(typeof enteredPin, enteredPin, txtValue);\n\n            if (hasPin !== 'false') {\n              dispatch(validatePin({\n                \"pin\": enteredPin,\n                \"userid\": userID,\n                \"UDID\": get_UDid('UDID')\n              }));\n            } else {\n              dispatch(createPin({\n                \"pin\": enteredPin,\n                \"id\": userID\n              }));\n            }\n          }\n\n          setTxtValue(\"\");\n          setTotalSize(0);\n        }, 100);\n      }\n    }\n  };\n\n  const handle = e => {\n    const {\n      value\n    } = e.target;\n    const re = new RegExp('^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$');\n\n    if (value === '' || re.test(value)) {\n      addToScreen(value);\n    }\n  };\n\n  const handleBack = e => {\n    if (e.keyCode == 76 && e.ctrlKey) {\n      this.log_out();\n    }\n\n    if (e.keyCode == 86 && e.ctrlKey) {//$('#PinPagebackButton').focus();\n    }\n\n    var key = e.which || e.keyCode;\n\n    if (key === 8) {\n      this.addToScreen('c');\n      e.preventDefault();\n    }\n\n    if (key === 13) {//event.preventDefault();\n    }\n  };\n\n  function toggle() {\n    setIsOpened(true);\n  }\n\n  function toggleTwo() {\n    setIsOpened2(true);\n  }\n\n  const handleAmount = e => {\n    setAmount(e.target.value);\n  };\n\n  const handleNotes = e => {\n    setNotes(e.target.value);\n  };\n\n  var userData = localStorage.getItem('user');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"open-register-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"cancel\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"../Assets/Images/SVG/AngledBracket-Left-White.svg\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 21\n        }, this), \"Cancel\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"logout\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"../Assets/Images/SVG/LogOut-Icon-White.svg\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 21\n        }, this), \"Log Out\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auto-margin-top\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"../Assets/Images/SVG/Closed-Sign-White.svg\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"style1\",\n            children: get_locName()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"divider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"style2\",\n            children: get_regName()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"style3\",\n            children: get_locName()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auto-margin-bottom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auto-margin-top\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }, this), !isOpened ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step1\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Ready to Open?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"openRegisterButton\",\n              onClick: toggle,\n              children: \"Open Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 25\n          }, this)\n        }, void 0, false) : null, isOpened && !isOpened2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step2\",\n          children: [isAmountEntered === true ? /*#__PURE__*/_jsxDEV(\"small\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                'color': 'red'\n              },\n              children: \"Amount should not be blank or empty!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 29\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Start Your Cash Float\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatAmount\",\n            children: \"Opening float amount ($):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"Enter Amount\",\n            id: \"floatAmount\",\n            onChange: e => handleAmount(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"openCashDrawer\",\n            onClick: openRegister,\n            children: \"Open Cash Drawer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"openNote\",\n            children: \"Optional - add a note:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"openNote\",\n            id: \"openNote\",\n            placeholder: \"Add your note here\",\n            defaultValue: \"\",\n            onChange: e => handleNotes(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"openFloatButton\",\n            onClick: toggleTwo,\n            children: \"Open Float\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 25\n        }, this) : null, isOpened2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Enter Your User ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pinpad\",\n            children: [hasPin !== \"true\" && /*#__PURE__*/_jsxDEV(ShowCreatePin, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 55\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pin-entries\",\n              children: /*#__PURE__*/_jsxDEV(TrashPin, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(NumInput, {\n              id: \"keyss\",\n              type: \"button\",\n              numbers: pinNumberList,\n              onClick: addToScreen,\n              readOnly: false,\n              classNameNameName2: \"fill-dotted-clear\",\n              onKeyDown: e => handleBack(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 25\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auto-margin-bottom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logout-confirmation-wrapper hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auto-margin-top\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"style1\",\n        children: \"Account Logout Confirmation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"style2\",\n        children: [\"Are you sure you want to logout \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 53\n        }, this), \"of the Oliver POS app? \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 44\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this), \"You will need the account username and \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 60\n        }, this), \"password to log back in.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"logoutConfirm\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"logoutCancel\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auto-margin-bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Openregister, \"EWOsWGUqkVnNNnHT57BiolU59SE=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n\n_c = Openregister;\nexport default Openregister;\n\nvar _c;\n\n$RefreshReg$(_c, \"Openregister\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","get_UDid","STATUSES","moment","createPin","validatePin","useNavigate","chunkArray","get_locName","get_regName","imgBackSpace","registerupdate","Openregister","dispatch","navigate","totalSize","setTotalSize","txtValue","setTxtValue","isloading","setIsloading","amount","setAmount","notes","setNotes","isAmountEntered","setIsAmountEntered","isOpened","setIsOpened","isOpened2","setIsOpened2","status","data","error","is_success","state","pin","hasPin","localStorage","getItem","console","log","IDLE","setItem","JSON","stringify","content","Storage","Date","utc","format","_lang","user","parse","lang","language","openRegister","d","dateStringWithTime","getLocalTimeZoneOffsetValue","getTimezoneOffset","localTimeZoneType","tz","guess","registerName","last_login_register_id","LocationName","last_login_Location_id","open_register_param","user_id","display_name","user_email","pinNumberList","trshPin","NumInput","props","numbers","map","num","index","nm","i","id","addToScreen","TrashPin","pinId","ind","ShowCreatePin","e","handle","resetScreen","str","substring","length","fillPass","inputNo","value","size","setTimeout","_envType","enteredPin","removeItem","userID","target","re","RegExp","test","handleBack","keyCode","ctrlKey","log_out","key","which","preventDefault","toggle","toggleTwo","handleAmount","handleNotes","userData"],"sources":["D:/OliverPOS/OliverPOS3.0/src/components/openregister/OpenRegister.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { get_UDid } from \"../common/localSettings\";\r\nimport STATUSES from \"../../constants/apiStatus\";\r\nimport moment from 'moment';\r\nimport { createPin, validatePin } from \"../pinPage/pinSlice\"\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { chunkArray, get_locName, get_regName } from '../common/localSettings';\r\nimport imgBackSpace from '../../images/svg/Backspace-BaseBlue.svg'\r\nimport {registerupdate} from './openRegisterSlice' \r\n\r\n\r\n\r\nconst Openregister = () => {\r\n\r\n\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const [totalSize, setTotalSize] = useState(0)\r\n    const [txtValue, setTxtValue] = useState(\"\")\r\n    const [isloading, setIsloading] = useState(false)\r\n    const [amount, setAmount] = useState(\"\")\r\n    const [notes, setNotes] = useState(\"\")\r\n    const [isAmountEntered, setIsAmountEntered] = useState(false)\r\n\r\n\r\n    //true and false  toggle in state\r\n    const [isOpened, setIsOpened] = useState(false);\r\n    const [isOpened2, setIsOpened2] = useState(false);\r\n\r\n\r\n    const { status, data, error, is_success } = useSelector((state) => state.pin)\r\n    var hasPin = localStorage.getItem('hasPin')\r\n    if (status === STATUSES.error) {\r\n        console.log(error)\r\n    }\r\n    if (status === STATUSES.IDLE && is_success) {\r\n        localStorage.setItem('user', JSON.stringify(data.content));\r\n        if (typeof (Storage) !== \"undefined\") {\r\n            localStorage.setItem(\"check_subscription_status_datetime\", new Date());\r\n        }\r\n        if (localStorage.getItem(\"PRODUCT_REFRESH_DATE\") == null) {\r\n            localStorage.setItem(\"PRODUCT_REFRESH_DATE\", moment.utc(new Date()).format('YYYY-MM-DD HH:mm:ss'))\r\n        }\r\n        var _lang = localStorage.getItem(\"LANG\");\r\n        var user = JSON.parse(localStorage.getItem(\"user\"))\r\n        var lang = user && user.language ? user.language : 'en';\r\n        localStorage.setItem(\"LANG\", lang);\r\n        //Reloading the component if new language set for the login user.                  \r\n        if (_lang && _lang !== lang) {\r\n            // window.location = '/';\r\n        }\r\n\r\n       // openRegister()\r\n\r\n\r\n       // navigate('/home')\r\n\r\n    }\r\n\r\n\r\n\r\n    const openRegister = async  () => {\r\n        if (amount && amount != '') {\r\n            setIsAmountEntered(false)\r\n            //this.setState({ enteredAmount: 0.00, enterNote: '' });\r\n            var d = new Date();\r\n            var dateStringWithTime = moment(d).format('YYYY-MM-DD HH:mm:ss Z');\r\n            var getLocalTimeZoneOffsetValue = d.getTimezoneOffset();\r\n            var localTimeZoneType = moment.tz.guess(true);\r\n            var user = JSON.parse(localStorage.getItem(\"user\"));\r\n            var registerName = (localStorage.getItem(\"registerName\"));\r\n            var last_login_register_id = (localStorage.getItem(\"register\"));\r\n            var LocationName = (localStorage.getItem(\"LocationName\"));\r\n            var last_login_Location_id = (localStorage.getItem(\"Location\"));\r\n            var open_register_param = {\r\n                \"RegisterId\": last_login_register_id,\r\n                \"RegisterName\": registerName,\r\n                \"LocationId\": last_login_Location_id,\r\n                \"LocationName\": LocationName,\r\n                \"LocalDateTime\": dateStringWithTime,\r\n                \"LocalTimeZoneType\": localTimeZoneType,\r\n                \"SalePersonId\": user && user.user_id ? user.user_id : '',\r\n                \"SalePersonName\": user && user.display_name ? user.display_name : '',\r\n                \"SalePersonEmail\": user && user.user_email ? user.user_email : '',\r\n                \"ActualOpeningBalance\": amount,\r\n                \"OpeningNote\": notes,\r\n                \"LocalTimeZoneOffsetValue\": getLocalTimeZoneOffsetValue\r\n            }\r\n            dispatch(registerupdate(open_register_param));\r\n        \r\n           // $(\".form-control\").val('');\r\n        }\r\n        else {\r\n            setIsAmountEntered(true)\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    const pinNumberList = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \" \", \"0\", \"c\"];\r\n    const trshPin = ['txt1', 'txt2', 'txt3', 'txt4']\r\n\r\n    const NumInput = props =>\r\n        chunkArray(props.numbers, 3).map((num, index) => (\r\n            <div key={index} className=\"pin-button-row\">\r\n                {num.map((nm, i) => {\r\n                    if (nm === \" \") { return \"\" }\r\n                    return (\r\n                        <button  key={\"input\" + i} type=\"button\" id={props.id}\r\n                            onClick={() => { addToScreen(nm) }}\r\n                            className={nm === 'c' ? \"backspace\" : \"\"}>\r\n                            {nm === 'c' ? <img src={imgBackSpace} /> : nm}\r\n                        </button>\r\n                    )\r\n\r\n                })\r\n\r\n                }\r\n            </div>\r\n        ))\r\n\r\n    // display dot pin\r\n    const TrashPin = () =>\r\n        trshPin.map((pinId, ind) => {\r\n            // console.log(\"totalSize\",totalSize)\r\n            return (\r\n                <div key={ind} className={\"pin-entry \" + (totalSize >= ind + 1 && \"entered\")}></div>\r\n\r\n            )\r\n        })\r\n    // show entered number for create pin\r\n    const ShowCreatePin = props =>\r\n        trshPin.map((pinId, ind) => {\r\n            return (\r\n                <input key={ind} type=\"number\" id={pinId + 1} onChange={(e) => handle(e)} />\r\n                //   className={props.className}\r\n            )\r\n        })\r\n    const resetScreen = () => {\r\n        var str = txtValue;\r\n        if (totalSize > 0) {\r\n            setTotalSize(totalSize - 1);\r\n            setTxtValue(str.substring(0, str.length - 1));\r\n        } else {\r\n            setTotalSize(0);\r\n            setTxtValue(\"\");\r\n        }\r\n        fillPass();\r\n    }\r\n    const addToScreen = (inputNo) => {\r\n        if (inputNo === \" \") { return }\r\n        //var lenght_is = e.length - 1\r\n        //var newString = inputNo;//e[lenght_is];\r\n        if (inputNo === \"c\") {\r\n            if (totalSize > 0) {\r\n                resetScreen();\r\n            } else {\r\n                setTotalSize(0);\r\n                setTxtValue('');\r\n            }\r\n            return;\r\n        }\r\n        if (totalSize < 4) {\r\n            var value = txtValue + inputNo\r\n            var size = totalSize + 1\r\n            setTxtValue(value);\r\n            setTotalSize(size);\r\n            console.log(value, size)\r\n            setTimeout(() => {\r\n                fillPass(value);\r\n            }, 100);\r\n\r\n        }\r\n\r\n        // $('#whichkey').focus()\r\n        var _envType = localStorage.getItem('env_type');\r\n        if (_envType && _envType !== \"\") {\r\n            // $('#whichkey').attr('readonly', true);\r\n        } else {\r\n            //$('#whichkey').focus();\r\n        }\r\n    }\r\n    const fillPass = (enteredPin) => {\r\n\r\n        if (enteredPin.length >= 4) {\r\n            //const { dispatch } = this.props;\r\n            if (isloading === false) {\r\n                setIsloading(true)\r\n                localStorage.removeItem('logoutclick'); //For webview            \r\n                setTimeout(function () {    //Need delay for reaset text\r\n                    var userID = \"\";\r\n\r\n                    if (localStorage.getItem(\"userId\")) {\r\n                        userID = localStorage.getItem(\"userId\");\r\n                    } else {\r\n                        userID = localStorage.getItem('clientDetail') ? JSON.parse(localStorage.getItem('clientDetail')).user_id : \"\";\r\n                        localStorage.setItem(\"userId\", userID)\r\n                    }\r\n\r\n                    if (enteredPin !== null && enteredPin !== '' && userID && userID !== '') {\r\n\r\n\r\n                        console.log(typeof (enteredPin), enteredPin, txtValue,);\r\n                        if (hasPin !== 'false') {\r\n                            dispatch(validatePin({ \"pin\": enteredPin, \"userid\": userID, \"UDID\": get_UDid('UDID') }));\r\n                        } else {\r\n                            dispatch(createPin({ \"pin\": enteredPin, \"id\": userID }));\r\n                        }\r\n                    }\r\n\r\n                    setTxtValue(\"\");\r\n                    setTotalSize(0);\r\n                }, 100)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const handle = (e) => {\r\n        const { value } = e.target;\r\n        const re = new RegExp('^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$')\r\n        if (value === '' || re.test(value)) {\r\n            addToScreen(value)\r\n        }\r\n    }\r\n\r\n    const handleBack = (e) => {\r\n        if (e.keyCode == 76 && e.ctrlKey) {\r\n            this.log_out()\r\n        }\r\n        if (e.keyCode == 86 && e.ctrlKey) {\r\n            //$('#PinPagebackButton').focus();\r\n        }\r\n        var key = e.which || e.keyCode;\r\n        if (key === 8) {\r\n            this.addToScreen('c')\r\n            e.preventDefault();\r\n        }\r\n        if (key === 13) {\r\n            //event.preventDefault();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    function toggle() {\r\n        setIsOpened(true)\r\n    }\r\n    function toggleTwo() {\r\n        setIsOpened2(true)\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const handleAmount = (e) => {\r\n        setAmount(e.target.value);\r\n    }\r\n\r\n    const handleNotes = (e) => {\r\n        setNotes(e.target.value);\r\n    }\r\n\r\n\r\n\r\n    var userData = localStorage.getItem('user');\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"open-register-wrapper\">\r\n                <button id=\"cancel\">\r\n                    <img src=\"../Assets/Images/SVG/AngledBracket-Left-White.svg\" alt=\"\" />\r\n                    Cancel\r\n                </button>\r\n                <button id=\"logout\">\r\n                    <img src=\"../Assets/Images/SVG/LogOut-Icon-White.svg\" alt=\"\" />\r\n                    Log Out\r\n                </button>\r\n                <header>\r\n                    <div className=\"auto-margin-top\" />\r\n                    <img src=\"../Assets/Images/SVG/Closed-Sign-White.svg\" alt=\"\" />\r\n                    <div className=\"col\">\r\n                        <p className=\"style1\">{get_locName()}</p>\r\n                        <div className=\"divider\"></div>\r\n                        <p className=\"style2\">{get_regName()}</p>\r\n                        <p className=\"style3\">{get_locName()}</p>\r\n                    </div>\r\n                    <div className=\"auto-margin-bottom\" />\r\n                </header>\r\n                <main>\r\n                    <div className=\"auto-margin-top\" />\r\n                    {!isOpened ? <>\r\n                        <div className=\"step1\">\r\n                            <p>Ready to Open?</p>\r\n                            <button id=\"openRegisterButton\" onClick={toggle}>Open Register</button>\r\n                        </div>\r\n                    </> : null}\r\n                    {isOpened && !isOpened2 ?\r\n                        <div className=\"step2\">\r\n\r\n                          { (isAmountEntered === true) ?\r\n                            <small><p style={{'color' :'red'}}>Amount should not be blank or empty!\r\n                            </p></small>\r\n                            :null}\r\n\r\n\r\n                            <p>Start Your Cash Float</p>\r\n                            <label htmlFor=\"floatAmount\" >Opening float amount ($):</label>\r\n                            <input type=\"number\" placeholder='Enter Amount' id=\"floatAmount\" onChange={(e) => handleAmount(e)} />\r\n                            <button id=\"openCashDrawer\" onClick={openRegister}>Open Cash Drawer</button>\r\n                            <label htmlFor=\"openNote\">Optional - add a note:</label>\r\n                            <textarea\r\n                                name=\"openNote\"\r\n                                id=\"openNote\"\r\n                                placeholder=\"Add your note here\"\r\n                                defaultValue={\"\"}\r\n                                onChange={(e) => handleNotes(e)}\r\n                                \r\n                            />\r\n\r\n                            <button id=\"openFloatButton\" onClick={toggleTwo} >Open Float</button>\r\n\r\n                        </div> : null\r\n                    }\r\n                    {isOpened2  ?\r\n                        <div className=\"step3\">\r\n                            <p>Enter Your User ID</p>\r\n                            <div className=\"pinpad\">\r\n                                {hasPin !== \"true\" && <ShowCreatePin />}\r\n                                <div className=\"pin-entries\">\r\n                                    <TrashPin />\r\n                                </div>\r\n                                <NumInput id=\"keyss\" type=\"button\" numbers={pinNumberList} onClick={addToScreen} readOnly={false} classNameNameName2=\"fill-dotted-clear\" onKeyDown={(e) => handleBack(e)} />\r\n                            </div>\r\n\r\n                        </div>\r\n                        : null}\r\n                    <div className=\"auto-margin-bottom\" />\r\n                </main>\r\n            </div>\r\n            <div className=\"logout-confirmation-wrapper hidden\">\r\n                <div className=\"auto-margin-top\" />\r\n                <p className=\"style1\">Account Logout Confirmation</p>\r\n                <p className=\"style2\">\r\n                    Are you sure you want to logout <br />\r\n                    of the Oliver POS app? <br />\r\n                    <br />\r\n                    You will need the account username and <br />\r\n                    password to log back in.\r\n                </p>\r\n                <button id=\"logoutConfirm\">Logout</button>\r\n                <button id=\"logoutCancel\">Cancel</button>\r\n                <div className=\"auto-margin-bottom\" />\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Openregister"],"mappings":"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"},"metadata":{},"sourceType":"module"}