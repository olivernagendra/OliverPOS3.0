{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from'react-redux';import AngledBracket_Left_Blue from'../../images/svg/AngledBracket-Left-Blue.svg';import AngledBracket_Right_Grey from'../../images/svg/AngledBracket-Right-Grey.svg';import Store_Icon_White from'../../images/svg/Store-Icon-White.svg';import{location}from'./locationSlice';import{get_UDid,get_userName}from'../common/localSettings';import STATUSES from\"../../constants/apiStatus\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Location=function Location(){var dispatch=useDispatch();var navigate=useNavigate();var decodedString=localStorage.getItem('UDID');var decod=decodedString?atob(decodedString):'';var UDID=decod;var userId=localStorage.getItem('userId')?localStorage.getItem('userId'):0;var _useSelector=useSelector(function(state){return state.location;}),status=_useSelector.status,data=_useSelector.data,error=_useSelector.error,is_success=_useSelector.is_success;// console.log(\"status\", status, \"data\", data, \"error\", error, \"is_success\", is_success)\nif(status==STATUSES.error){console.log(error);}if(status==STATUSES.IDLE&&is_success){// console.log(\"data----->\" + data)\n}useEffect(function(){dispatch(location({\"udid\":UDID,\"userId\":userId}));},[]);var handleSubmit=function handleSubmit(item){localStorage.setItem('Location',item.id);localStorage.setItem('LocationName',item.name);var getudid=get_UDid('UDID');localStorage.setItem(\"last_login_location_id_\".concat(getudid),item.id);localStorage.setItem(\"last_login_location_name_\".concat(getudid),item.name);localStorage.setItem('WarehouseId',item.warehouse_id);if(item.id){navigate('/register');}};if(status==STATUSES.LOADING){return/*#__PURE__*/_jsx(\"div\",{children:\" Loading... \"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"choose-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"choose-header\",children:[/*#__PURE__*/_jsxs(\"button\",{id:\"backButton\",onClick:function onClick(){return window.location=\"/site\";},children:[/*#__PURE__*/_jsx(\"img\",{src:AngledBracket_Left_Blue,alt:\"\"}),\"Back\"]}),/*#__PURE__*/_jsx(\"p\",{children:get_userName()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"choose-body-default\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Choose Location\"}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:data!==null&&data.content!==undefined&&data.content.map(function(item,index){return/*#__PURE__*/_jsxs(\"button\",{className:\"option\",onClick:function onClick(){return handleSubmit(item);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"img-container background-blue\",children:/*#__PURE__*/_jsx(\"img\",{src:Store_Icon_White,alt:\"\",className:\"store-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"p\",{className:\"style1\",children:item.name})}),/*#__PURE__*/_jsx(\"img\",{src:AngledBracket_Right_Grey,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fake-button background-blue\",children:\"Select\"})]},index);})})]})]});};export default Location;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","AngledBracket_Left_Blue","AngledBracket_Right_Grey","Store_Icon_White","location","get_UDid","get_userName","STATUSES","useNavigate","Location","dispatch","navigate","decodedString","localStorage","getItem","decod","atob","UDID","userId","state","status","data","error","is_success","console","log","IDLE","handleSubmit","item","setItem","id","name","getudid","warehouse_id","LOADING","window","content","undefined","map","index"],"sources":["D:/OliverPOS/OliverPOS3.0/src/components/location/Location.js"],"sourcesContent":["import React, {  useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport AngledBracket_Left_Blue from '../../images/svg/AngledBracket-Left-Blue.svg'\r\nimport AngledBracket_Right_Grey from '../../images/svg/AngledBracket-Right-Grey.svg'\r\nimport Store_Icon_White from '../../images/svg/Store-Icon-White.svg'\r\nimport { location } from './locationSlice';\r\nimport { get_UDid, get_userName } from '../common/localSettings';\r\n\r\nimport STATUSES from \"../../constants/apiStatus\";\r\nimport { useNavigate } from 'react-router-dom';\r\nconst Location = () => {\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    var decodedString = localStorage.getItem('UDID');\r\n    var decod = decodedString ? atob(decodedString) : '';\r\n    var UDID = decod;\r\n    var userId = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0;\r\n\r\n    const { status, data, error, is_success } = useSelector((state) => state.location)\r\n    // console.log(\"status\", status, \"data\", data, \"error\", error, \"is_success\", is_success)\r\n\r\n    if (status == STATUSES.error) {\r\n        console.log(error)\r\n    }\r\n    if (status == STATUSES.IDLE && is_success) {\r\n        // console.log(\"data----->\" + data)\r\n    }\r\n    useEffect(() => {\r\n        dispatch(location({ \"udid\": UDID, \"userId\": userId }));\r\n\r\n    }, []);\r\n\r\n    const handleSubmit = (item) => {\r\n        localStorage.setItem('Location', item.id);\r\n        localStorage.setItem('LocationName', item.name);\r\n        var getudid = get_UDid('UDID');\r\n        localStorage.setItem(`last_login_location_id_${getudid}`, item.id);\r\n        localStorage.setItem(`last_login_location_name_${getudid}`, item.name);\r\n        localStorage.setItem('WarehouseId', item.warehouse_id);\r\n        if (item.id) {\r\n            navigate('/register')\r\n        }\r\n    }\r\n    if (status == STATUSES.LOADING) {\r\n        return <div> Loading... </div>\r\n    }\r\n    return <div className=\"choose-wrapper\">\r\n        <div className=\"choose-header\">\r\n            <button id=\"backButton\" onClick={() => window.location = \"/site\"}>\r\n                <img src={AngledBracket_Left_Blue} alt=\"\" />\r\n                Back\r\n            </button>\r\n            <p>{get_userName()}</p>\r\n        </div>\r\n        <div className=\"choose-body-default\">\r\n            <p>Choose Location</p>\r\n            <div className=\"divider\"></div>\r\n            <div className=\"button-container\">\r\n\r\n                {data !== null && data.content !== undefined &&\r\n                    data.content.map((item, index) => {\r\n                        return (\r\n\r\n                            <button key={index} className=\"option\" onClick={() => handleSubmit(item)}>\r\n                                <div className=\"img-container background-blue\">\r\n                                    <img src={Store_Icon_White} alt=\"\" className=\"store-icon\" />\r\n                                </div>\r\n                                <div className=\"col\">\r\n                                    <p className=\"style1\">{item.name}</p>\r\n                                </div>\r\n                                <img src={AngledBracket_Right_Grey} alt=\"\" />\r\n                                <div className=\"fake-button background-blue\">Select</div>\r\n                            </button>\r\n                        )\r\n                    })}\r\n                {/* <button className=\"option\">\r\n                    <div className=\"img-container background-blue\">\r\n                        <img src={Store_Icon_White} alt=\"\" className=\"store-icon\" />\r\n                    </div>\r\n                    <div className=\"col\">\r\n                        <p className=\"style1\">139 Water Street</p>\r\n                    </div>\r\n                    <img src={AngledBracket_Right_Grey} alt=\"\" />\r\n                    <div className=\"fake-button background-blue\">Select</div>\r\n                </button>\r\n                <button className=\"option\">\r\n                    <div className=\"img-container background-blue\">\r\n                        <img src={Store_Icon_White} alt=\"\" className=\"store-icon\" />\r\n                    </div>\r\n                    <div className=\"col\">\r\n                        <p className=\"style1\">75 Moncston Rd.</p>\r\n                    </div>\r\n                    <img src={AngledBracket_Right_Grey} alt=\"\" />\r\n                    <div className=\"fake-button background-blue\">Select</div>\r\n                </button>\r\n                <button className=\"option\">\r\n                    <div className=\"img-container background-blue\">\r\n                        <img src={Store_Icon_White} alt=\"\" className=\"store-icon\" />\r\n                    </div>\r\n                    <div className=\"col\">\r\n                        <p className=\"style1\">Pop-up Location</p>\r\n                    </div>\r\n                    <img src={AngledBracket_Right_Grey} alt=\"\" />\r\n                    <div className=\"fake-button background-blue\">Select</div>\r\n                </button> */}\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\nexport default Location"],"mappings":"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"},"metadata":{},"sourceType":"module"}